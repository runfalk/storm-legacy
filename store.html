
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Store &#8212; Storm  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Columns and types" href="columns.html" />
    <link rel="prev" title="Storm legacy" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-storm.store">
<span id="store"></span><h1>Store<a class="headerlink" href="#module-storm.store" title="Permalink to this headline">¶</a></h1>
<p>The Store interface to a database.</p>
<p>This module contains the highest-level ORM interface in Storm.</p>
<dl class="class">
<dt id="storm.store.Store">
<em class="property">class </em><code class="descclassname">storm.store.</code><code class="descname">Store</code><span class="sig-paren">(</span><em>database</em>, <em>cache=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Storm Store.</p>
<p>This is the highest-level interface to a database. It manages
transactions with <a class="reference internal" href="#storm.store.Store.commit" title="storm.store.Store.commit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">commit</span></code></a> and <a class="reference internal" href="#storm.store.Store.rollback" title="storm.store.Store.rollback"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rollback</span></code></a>, caching, high-level
querying with <a class="reference internal" href="#storm.store.Store.find" title="storm.store.Store.find"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find</span></code></a>, and more.</p>
<p>Note that Store objects are not threadsafe. You should create one
Store per thread in your application, passing them the same
backend <code class="xref py py-obj docutils literal notranslate"><span class="pre">Database</span></code> object.</p>
<dl class="method">
<dt id="storm.store.Store.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given object to the store.</p>
<p>The object will be inserted into the database if it has not
yet been added.</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">added</span></code> event will be fired on the object info’s event system.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.add_flush_order">
<code class="descname">add_flush_order</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.add_flush_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.add_flush_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Explicitly specify the order of flushing two objects.</p>
<p>When the next database flush occurs, the order of data
modification statements will be ensured.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>before</strong> – The object to flush first.</li>
<li><strong>after</strong> – The object to flush after <code class="xref py py-obj docutils literal notranslate"><span class="pre">before</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.autoreload">
<code class="descname">autoreload</code><span class="sig-paren">(</span><em>obj=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.autoreload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.autoreload" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an object or all objects to be reloaded automatically on access.</p>
<p>When a database-backed attribute of one of the objects is
accessed, the object will be reloaded entirely from the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – If passed, only mark the given object for
autoreload. Otherwise, all cached objects will be marked for
autoreload.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.begin">
<code class="descname">begin</code><span class="sig-paren">(</span><em>xid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.begin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a new two-phase transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>xid</strong> – A <code class="xref py py-obj docutils literal notranslate"><span class="pre">Xid</span></code> instance holding identification data for the
new transaction.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.block_access">
<code class="descname">block_access</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.block_access"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.block_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Block access to the underlying database connection.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.block_implicit_flushes">
<code class="descname">block_implicit_flushes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.block_implicit_flushes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.block_implicit_flushes" title="Permalink to this definition">¶</a></dt>
<dd><p>Block implicit flushes from operations like execute().</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the connection.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit all changes to the database.</p>
<p>This invalidates the cache, so all live objects will have data
reloaded next time they are touched.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>statement</em>, <em>params=None</em>, <em>noresult=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a basic query.</p>
<p>This is just like <code class="xref py py-obj docutils literal notranslate"><span class="pre">storm.database.Database.execute</span></code>, except
that a flush is performed first.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>cls_spec</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a query.</p>
<p>Some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">store</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">Person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="sa">u</span><span class="s2">&quot;Joe&quot;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="nb">all</span> <span class="n">Persons</span> <span class="n">named</span> <span class="n">Joe</span>
<span class="n">store</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="sa">u</span><span class="s2">&quot;Joe&quot;</span><span class="p">)</span> <span class="o">--&gt;</span> <span class="n">same</span>
<span class="n">store</span><span class="o">.</span><span class="n">find</span><span class="p">((</span><span class="n">Company</span><span class="p">,</span> <span class="n">Person</span><span class="p">),</span> <span class="n">Person</span><span class="o">.</span><span class="n">company_id</span> <span class="o">==</span> <span class="n">Company</span><span class="o">.</span><span class="n">id</span><span class="p">)</span> <span class="o">--&gt;</span>
    <span class="n">iterator</span> <span class="n">of</span> <span class="n">tuples</span> <span class="n">of</span> <span class="n">Company</span> <span class="ow">and</span> <span class="n">Person</span> <span class="n">instances</span> <span class="n">which</span> <span class="n">are</span>
    <span class="n">associated</span> <span class="n">via</span> <span class="n">the</span> <span class="n">company_id</span> <span class="o">-&gt;</span> <span class="n">Company</span> <span class="n">relation</span><span class="o">.</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls_spec</strong> – The class or tuple of classes whose
associated tables will be queried.</li>
<li><strong>args</strong> – Instances of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Expr</span></code>.</li>
<li><strong>kwargs</strong> – Mapping of simple column names to values or
expressions to query for.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <code class="xref py py-obj docutils literal notranslate"><span class="pre">ResultSet</span></code> of instances <code class="xref py py-obj docutils literal notranslate"><span class="pre">cls_spec</span></code>. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">cls_spec</span></code>
was a tuple, then an iterator of tuples of such instances.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush all dirty objects in cache to database.</p>
<p>This method will first call the __storm_pre_flush__ hook of all dirty
objects.  If more objects become dirty as a result of executing code
in the hooks, the hook is also called on them.  The hook is only
called once for each object.</p>
<p>It will then flush each dirty object to the database, that is,
execute the SQL code to insert/delete/update them.  After each
object is flushed, the hook __storm_flushed__ is called on it,
and if changes are made to the object it will get back to the
dirty list, and be flushed again.</p>
<p>Note that Storm will flush objects for you automatically, so you’ll
only need to call this method explicitly in very rare cases where
normal flushing times are insufficient, such as when you want to
make sure a database trigger gets run at a particular time.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>cls</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get object of type cls with the given primary key from the database.</p>
<p>If the object is alive the database won’t be touched.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cls</strong> – Class of the object to be retrieved.</li>
<li><strong>key</strong> – Primary key of object. May be a tuple for composed keys.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The object found with the given primary key, or None
if no object is found.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.get_database">
<code class="descname">get_database</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.get_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.get_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Return this Store’s Database object.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.invalidate">
<code class="descname">invalidate</code><span class="sig-paren">(</span><em>obj=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.invalidate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.invalidate" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an object or all objects to be invalidated.</p>
<p>This prevents Storm from returning the cached object without
first verifying that the object is still available in the
database.</p>
<p>This should almost never be called by application code; it is
only necessary if it is possible that an object has
disappeared through some mechanism that Storm was unable to
detect, like direct SQL statements within the current
transaction that bypassed the ORM layer. The Store
automatically invalidates all cached objects on transaction
boundaries.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="storm.store.Store.of">
<em class="property">static </em><code class="descname">of</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.of"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.of" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the Store that the object is associated with.</p>
<p>If the given object has not yet been associated with a store,
return None.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare a two-phase transaction for the final commit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Note:</th><td class="field-body">It must be call inside a two-phase transaction started
with begin().</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.reload">
<code class="descname">reload</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the given object.</p>
<p>The object will immediately have all of its data reset from
the database. Any pending changes will be thrown away.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the given object from the store.</p>
<p>The associated row will be deleted from the database.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.remove_flush_order">
<code class="descname">remove_flush_order</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.remove_flush_order"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.remove_flush_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel an explicit flush order specified with <a class="reference internal" href="#storm.store.Store.add_flush_order" title="storm.store.Store.add_flush_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_flush_order</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>before</strong> – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">before</span></code> object previously specified in a
call to <a class="reference internal" href="#storm.store.Store.add_flush_order" title="storm.store.Store.add_flush_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_flush_order</span></code></a>.</li>
<li><strong>after</strong> – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">after</span></code> object previously specified in a
call to <a class="reference internal" href="#storm.store.Store.add_flush_order" title="storm.store.Store.add_flush_order"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_flush_order</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset this store, causing all future queries to return new objects.</p>
<p>Beware this method: it breaks the assumption that there will never be
two objects in memory which represent the same database object.</p>
<p>This is useful if you’ve got in-memory changes to an object that you
want to “throw out”; next time they’re fetched the objects will be
recreated, so in-memory modifications will not be in effect for future
queries.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.rollback">
<code class="descname">rollback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Roll back all outstanding changes, reverting to database state.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.unblock_access">
<code class="descname">unblock_access</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.unblock_access"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.unblock_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Unblock access to the underlying database connection.</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.unblock_implicit_flushes">
<code class="descname">unblock_implicit_flushes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.unblock_implicit_flushes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.unblock_implicit_flushes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unblock implicit flushes from operations like execute().</p>
</dd></dl>

<dl class="method">
<dt id="storm.store.Store.using">
<code class="descname">using</code><span class="sig-paren">(</span><em>*tables</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#Store.using"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.Store.using" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify tables to use explicitly.</p>
<p>The <a class="reference internal" href="#storm.store.Store.find" title="storm.store.Store.find"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find</span></code></a> method generally does a good job at figuring out
the tables to query by itself, but in some cases it’s useful
to specify them explicitly.</p>
<p>This is most often necessary when an explicit SQL join is
required. An example follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">join</span> <span class="o">=</span> <span class="n">LeftJoin</span><span class="p">(</span><span class="n">Person</span><span class="p">,</span> <span class="n">Person</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">Company</span><span class="o">.</span><span class="n">person_id</span><span class="p">)</span>
<span class="nb">print</span> <span class="nb">list</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">using</span><span class="p">(</span><span class="n">Company</span><span class="p">,</span> <span class="n">join</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">((</span><span class="n">Company</span><span class="p">,</span> <span class="n">Person</span><span class="p">)))</span>
</pre></div>
</div>
<p>The previous code snippet will produce an SQL statement
somewhat similar to this, depending on your backend:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">company</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">employee</span><span class="o">.</span><span class="n">company_id</span><span class="p">,</span> <span class="n">employee</span><span class="o">.</span><span class="n">id</span>
<span class="n">FROM</span> <span class="n">company</span>
<span class="n">LEFT</span> <span class="n">JOIN</span> <span class="n">employee</span> <span class="n">ON</span> <span class="n">employee</span><span class="o">.</span><span class="n">company_id</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">id</span><span class="p">;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="xref py py-obj docutils literal notranslate"><span class="pre">TableSet</span></code>, which has a <a class="reference internal" href="#storm.store.Store.find" title="storm.store.Store.find"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find</span></code></a> method similar to
<a class="reference internal" href="#storm.store.Store.find" title="storm.store.Store.find"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Store.find</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="storm.store.EmptyResultSet">
<em class="property">class </em><code class="descclassname">storm.store.</code><code class="descname">EmptyResultSet</code><span class="sig-paren">(</span><em>ordered=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An object that looks like a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ResultSet</span></code> but represents no rows.</p>
<p>This is convenient for application developers who want to provide
a method which is guaranteed to return a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ResultSet</span></code>-like object
but which, in certain cases, knows there is no point in querying
the database. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_people</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ids</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">EmptyResultSet</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">store</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">People</span><span class="p">,</span> <span class="n">People</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">is_in</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span>
</pre></div>
</div>
<p>The methods on EmptyResultSet (<a class="reference internal" href="#storm.store.EmptyResultSet.one" title="storm.store.EmptyResultSet.one"><code class="xref py py-obj docutils literal notranslate"><span class="pre">one</span></code></a>, <a class="reference internal" href="#storm.store.EmptyResultSet.config" title="storm.store.EmptyResultSet.config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">config</span></code></a>, <a class="reference internal" href="#storm.store.EmptyResultSet.union" title="storm.store.EmptyResultSet.union"><code class="xref py py-obj docutils literal notranslate"><span class="pre">union</span></code></a>, etc)
are meant to emulate a <code class="xref py py-obj docutils literal notranslate"><span class="pre">ResultSet</span></code> which has matched no rows.</p>
<dl class="method">
<dt id="storm.store.EmptyResultSet.any">
<code class="descname">any</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.any"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.any" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.avg">
<code class="descname">avg</code><span class="sig-paren">(</span><em>column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.avg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.avg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.cached">
<code class="descname">cached</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.cached"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.cached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.config">
<code class="descname">config</code><span class="sig-paren">(</span><em>distinct=None</em>, <em>offset=None</em>, <em>limit=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>expr=Undef</em>, <em>distinct=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.difference">
<code class="descname">difference</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.difference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.difference" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.find" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.first">
<code class="descname">first</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.first" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.get_select_expr">
<code class="descname">get_select_expr</code><span class="sig-paren">(</span><em>*columns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.get_select_expr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.get_select_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Select</span></code> expression to retrieve only the specified columns.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>columns</strong> – One or more <a class="reference internal" href="expr.html#storm.expr.Column" title="storm.expr.Column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">storm.expr.Column</span></code></a> objects whose values
will be fetched.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="miscellaneous.html#storm.exceptions.FeatureError" title="storm.exceptions.FeatureError"><strong>FeatureError</strong></a> – Raised if no columns are specified.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="xref py py-obj docutils literal notranslate"><span class="pre">Select</span></code> expression configured to use the query parameters
specified for this result set.  The result of the select will
always be an empty set of rows.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.group_by">
<code class="descname">group_by</code><span class="sig-paren">(</span><em>*expr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.group_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.group_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.intersection">
<code class="descname">intersection</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.intersection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.intersection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.is_empty">
<code class="descname">is_empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.is_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.last">
<code class="descname">last</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.last"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.last" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.max">
<code class="descname">max</code><span class="sig-paren">(</span><em>column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.min">
<code class="descname">min</code><span class="sig-paren">(</span><em>column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.one">
<code class="descname">one</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.order_by">
<code class="descname">order_by</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.order_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.order_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.sum">
<code class="descname">sum</code><span class="sig-paren">(</span><em>column</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.union">
<code class="descname">union</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.union"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.union" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.store.EmptyResultSet.values">
<code class="descname">values</code><span class="sig-paren">(</span><em>*columns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/store.html#EmptyResultSet.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.store.EmptyResultSet.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-storm.info"></span><dl class="function">
<dt id="storm.info.get_obj_info">
<code class="descclassname">storm.info.</code><code class="descname">get_obj_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#storm.info.get_obj_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="storm.info.set_obj_info">
<code class="descclassname">storm.info.</code><code class="descname">set_obj_info</code><span class="sig-paren">(</span><em>obj</em>, <em>obj_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/info.html#set_obj_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.info.set_obj_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="storm.info.get_cls_info">
<code class="descclassname">storm.info.</code><code class="descname">get_cls_info</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/info.html#get_cls_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.info.get_cls_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="storm.info.ClassInfo">
<em class="property">class </em><code class="descclassname">storm.info.</code><code class="descname">ClassInfo</code><span class="sig-paren">(</span><em>cls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/storm/info.html#ClassInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.info.ClassInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Persistent storm-related information of a class.</p>
<p>The following attributes are defined:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="expr.html#storm.expr.Delete.table" title="storm.expr.Delete.table"><strong>table</strong></a> – Expression from where columns will be looked up.</li>
<li><strong>cls</strong> – Class which should be used to build objects.</li>
<li><a class="reference internal" href="expr.html#storm.expr.Select.columns" title="storm.expr.Select.columns"><strong>columns</strong></a> – Tuple of column properties found in the class.</li>
<li><strong>primary_key</strong> – Tuple of column properties used to form the primary key</li>
<li><strong>primary_key_pos</strong> – Position of primary_key items in the columns tuple.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="storm.info.ObjectInfo">
<em class="property">class </em><code class="descclassname">storm.info.</code><code class="descname">ObjectInfo</code><a class="reference internal" href="_modules/storm/info.html#ObjectInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.info.ObjectInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<dl class="method">
<dt id="storm.info.ObjectInfo.checkpoint">
<code class="descname">checkpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#storm.info.ObjectInfo.checkpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="storm.info.ObjectInfo.cls_info">
<code class="descname">cls_info</code><a class="headerlink" href="#storm.info.ObjectInfo.cls_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="storm.info.ObjectInfo.event">
<code class="descname">event</code><a class="headerlink" href="#storm.info.ObjectInfo.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.info.ObjectInfo.get_obj">
<code class="descname">get_obj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#storm.info.ObjectInfo.get_obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="storm.info.ObjectInfo.primary_vars">
<code class="descname">primary_vars</code><a class="headerlink" href="#storm.info.ObjectInfo.primary_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="storm.info.ObjectInfo.set_obj">
<code class="descname">set_obj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#storm.info.ObjectInfo.set_obj" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="storm.info.ObjectInfo.variables">
<code class="descname">variables</code><a class="headerlink" href="#storm.info.ObjectInfo.variables" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="storm.info.ClassAlias">
<em class="property">class </em><code class="descclassname">storm.info.</code><code class="descname">ClassAlias</code><a class="reference internal" href="_modules/storm/info.html#ClassAlias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#storm.info.ClassAlias" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a named alias for a Storm class for use in queries.</p>
<p>This is useful basically when the SQL ‘AS’ feature is desired in code using
Storm queries.</p>
<p>ClassAliases which are explicitly named (i.e., when ‘name’ is passed) are
cached for as long as the class exists, such that the alias returned from
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ClassAlias(Foo,</span> <span class="pre">'foo_alias')</span></code> will be the same object no matter how many
times it’s called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cls</strong> – The class to create the alias of.</li>
<li><strong>name</strong> – If provided, specify the name of the alias to create.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="storm.info.ClassAlias.alias_count">
<code class="descname">alias_count</code><em class="property"> = 0</em><a class="headerlink" href="#storm.info.ClassAlias.alias_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Storm</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="columns.html">Columns and types</a></li>
<li class="toctree-l1"><a class="reference internal" href="expr.html">Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="databases.html">Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Hooks and events</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">Miscellaneous libraries</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Storm legacy</a></li>
      <li>Next: <a href="columns.html" title="next chapter">Columns and types</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Gustavo Niemeyer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/store.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>